var app={first:null,firstScore:null,second:null,secondScore:null,third:null,thirdScore:null,ranks:null,query:null,getTimeInSeconde:function(a){return parseInt(a.get("time"),10)/1e3+" sec"},getScore:function(a){return a.get("score")+" pts / "},bindRank:function(){if(this.ranks&&0!==this.ranks.length){var a=this.ranks[0];if(this.first.innerHTML=a.get("name"),this.firstScore.innerHTML=this.getScore(a)+this.getTimeInSeconde(a),this.ranks.length>1){var b=this.ranks[1];this.second.innerHTML=b.get("name"),this.secondScore.innerHTML=this.getScore(b)+this.getTimeInSeconde(b)}if(this.ranks.length>2){var c=this.ranks[2];this.third.innerHTML=c.get("name"),this.thirdScore.innerHTML=this.getScore(c)+this.getTimeInSeconde(c)}}},initialize:function(){this.first=document.getElementById("first"),this.firstScore=document.getElementById("firstScore"),this.second=document.getElementById("second"),this.secondScore=document.getElementById("secondScore"),this.third=document.getElementById("third"),this.thirdScore=document.getElementById("thirdScore");var a=Parse.Object.extend("Rank");this.query=new Parse.Query(a),this.query.limit(3),this.query.ascending("-score,time")},getRanking:function(){this.query.find({success:function(a){app.ranks=a,app.bindRank()},error:function(a){console.log("Cannot get ranks"),console.log(a)}})}};window.onload=function(){Parse.initialize("FfcLhJ6gRektlXkgfUqKrZlvTztaGlSS2ADOdN9y","JNdFp4k3LmYFRJEAdSDYGn8lUqE1nNZRSk6PSzQO"),app.initialize(),app.getRanking(),setInterval(function(){app.getRanking()},5e3)};